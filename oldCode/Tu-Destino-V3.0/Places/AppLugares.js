//import { carouselHistoria } from "./Modulos/ModuloSelectores.js";
import { UrlPlace, UrlPost, get } from "../pruebas/jsonPruebas/apiConnection.js";
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores',
    arrows: {
      prev: '.carousel__anterior',
      next: '.carousel__siguiente'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista1'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores1',
    arrows: {
      prev: '.carousel__anterior1',
      next: '.carousel__siguiente1'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista2'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores2',
    arrows: {
      prev: '.carousel__anterior2',
      next: '.carousel__siguiente2'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista3'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores3',
    arrows: {
      prev: '.carousel__anterior3',
      next: '.carousel__siguiente3'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista4'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores4',
    arrows: {
      prev: '.carousel__anterior4',
      next: '.carousel__siguiente4'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
window.addEventListener('load', function(){
  new Glider(document.querySelector('.carousel__lista5'), {
    slidesToShow: 1,
    slidesToScroll: 1,
    dots: '.carousel__indicadores5',
    arrows: {
      prev: '.carousel__anterior5',
      next: '.carousel__siguiente5'
    },
    responsive: [
      {
        // screens greater than >= 775px
        breakpoint: 300,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 1,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 775px
        breakpoint: 690,
        settings: {
        // Set to `auto` and provide item width to adjust to viewport
        slidesToShow: 2,
        slidesToScroll: 1
        }
      },
      {
        // screens greater than >= 1024px
        breakpoint: 780,
        settings: {
        slidesToShow: 2.5	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1070,
        settings: {
        slidesToShow: 3	,
        slidesToScroll: 1
        }
      }
      ,{
        // screens greater than >= 1024px
        breakpoint: 1200,
        settings: {
        slidesToShow: 3.5	,
        slidesToScroll: 1
        }
      }
    ]
  });
});
async function Data(url){
   
  return await get(url);
};

 const DataSpanish= await Data(UrlPlace)
//Selectores 
  const carouselHistoria=document.getElementById('carouselHistoria');
  const carouselCultura=document.getElementById('carouselCultura');
  const carouselNaturaleza=document.getElementById('carouselNaturaleza');
  const carouselRestaurante=document.getElementById('carouselRestaurante');
  const carouselHospedajes = document.getElementById('carouselHospedajes');
  const carouselActividades=document.getElementById('carouselActividades')
document.addEventListener('DOMContentLoaded', ()=>{
   info();
})

// extraer informacion de json-serve

async function info(){

  localStorage.setItem('ApartadoLugares',JSON.stringify( await get(UrlPost)));
}
const dato = localStorage.getItem('ApartadoLugares');
const DataBase = JSON.parse(dato);

// criterios de organizacion
const criterios ={
  history: 'HISTORIA',
  cultura: 'CULTURA',
  naturaleza: 'NATURALEZA',
  restaurante: 'RESTAURANTE',
  hospedajes: 'HOSPEDAJE',
  actividades: 'ACTIVIDADE',
}

//---funciones para agregar img a carouseles---*
 async function extraerImg(comparar){
  const listURl=new Array();
  const datos = await get(UrlPost)
 await datos.forEach(data=>{
      const {urlImg,place}= data;
      const {id}= place;

      if (id==comparar) {
          listURl.push(urlImg);
      }
      if (listURl.length==0) {
          listURl.unshift("https://res.cloudinary.com/dhtmy6izv/image/upload/Multimedia/den1krumk48nfabnwiir.jpg")
      }
  })
  return listURl;
}

async function imgCarousel(criterio,infor ,padre){
  const Carga= infor.filter(data=> {     return  data.enum_tipo == criterio; });
  //console.log(lugar[0]);
console.log(criterio);
  Carga.forEach(async lugar => {

    const {titulo,id} = lugar
    const imagenes = await extraerImg(id)
    const ele =document.createElement("div");
    ele.classList.add("carousel__elemento");
    ele.innerHTML = `
    <div class="caja">
    <button type="button" class=" btncarouse" id="${titulo.replaceAll(' ','-')}">
    <a href="../Html/ApartadoDetallesLugares.html" >
    <img src="${imagenes[0]}" alt="${titulo}">
    <p class="barra-oculta"></p>
    <div class="caja-tex">
        <h2 class="title-slider"><strong>${titulo}</strong></h2>
        <p class="tex-carrusel-oculto" id="${titulo.replaceAll(' ','-')+'1'}">${titulo}</p>
        
      </div>
      </a>
      </button
   </div>
    `
    padre.appendChild(ele);
  });

}
await imgCarousel(criterios.history,DataSpanish,carouselHistoria);
await imgCarousel(criterios.cultura,DataSpanish,carouselCultura);
await imgCarousel(criterios.naturaleza,DataSpanish,carouselNaturaleza);
await imgCarousel(criterios.restaurante,DataSpanish,carouselRestaurante);
await imgCarousel(criterios.hospedajes,DataSpanish,carouselHospedajes);
await imgCarousel(criterios.actividades,DataSpanish,carouselActividades);

// // Selectores 
// //historia
//     //one
// const historiaElementOne = document.getElementById('Basílica-de-Nuestra-Señora-de-la-Candelaria')
// const HElementOne=document.getElementById('Basílica-de-Nuestra-Señora-de-la-Candelaria1')
//     //two
// const historiaElementTwo = document.getElementById('Museo-el-Castillo')
// const HElementTwo=document.getElementById('Museo-el-Castillo1')
//     //three
// const historiaElementThree = document.getElementById('Parque-Berrío')
// const HElementThree = document.getElementById('Parque-Berrío1')

// // cultura
//     //one
// const culturaElementOne =document.getElementById('Museo-Casa-de-la-Memoria')
// const CElementOne =document.getElementById('Museo-Casa-de-la-Memoria1')
//     //two
// const culturaElementtwo =document.getElementById('Cementerio-Museo-de-San-Pedro')
// const CElementTwo =document.getElementById('Cementerio-Museo-de-San-Pedro1')
//     //three
// const culturaElementthree =document.getElementById('Palacio-de-la-cultura-Rafael-Ubire')
// const CElementThree =document.getElementById('Palacio-de-la-cultura-Rafael-Ubire1')

// // naturaleza
//     //one
// const naturalezaElementone = document.getElementById('Jardin-Botánico');
// const NElementOne = document.getElementById('Jardin-Botánico1')
//     //two
// const naturalezaElementonetwo = document.getElementById('Parque-Arví');
// const NElementTwo = document.getElementById('Parque-Arví1');
//     //three
// const naturalezaElementthree = document.getElementById('Cerro-el-Picacho');
// const NElementThree = document.getElementById('Cerro-el-Picacho1');
// //restaurantes
//     //one
// const restauranteElementone = document.getElementById('Bad-Burgers');
// const RElementOne = document.getElementById('Bad-Burgers1');
//     //two
// //const restauranteElementonetwo = document.getElementById('');
// //const RElementTwo = document.getElementById('1');


// //eventos 
// //Historia
// historiaElementOne.addEventListener('click',()=>{
//   console.log(HElementOne.textContent);
//   compararinfo(HElementOne.textContent)
// })

// historiaElementTwo.addEventListener('click',()=>{
//   console.log(HElementTwo.textContent);
//   compararinfo(HElementTwo.textContent)
// })
// historiaElementThree.addEventListener('click',()=>{
//   console.log(HElementThree.textContent);
//   compararinfo(HElementThree.textContent)
// })
// //Cultura
// culturaElementOne.addEventListener('click',()=>{
//   console.log(CElementOne.textContent);
//   compararinfo(CElementOne.textContent)
// })

// culturaElementtwo.addEventListener('click',()=>{
//   console.log(CElementTwo.textContent);
//   compararinfo(CElementTwo.textContent)
// })

// culturaElementthree.addEventListener('click',()=>{
//   console.log(CElementThree.textContent);
//   compararinfo(CElementThree.textContent)
// })
// //naturaleza

// naturalezaElementone.addEventListener('click',()=>{
//   console.log(NElementOne.textContent);
//   compararinfo(NElementOne.textContent)
// })

// naturalezaElementonetwo.addEventListener('click',()=>{
//   console.log(NElementTwo.textContent);
//   compararinfo(NElementTwo.textContent)
// })

// naturalezaElementthree.addEventListener('click',()=>{
//   console.log(NElementThree.textContent);
//   compararinfo(NElementThree.textContent)
// })

// //restaurante

// restauranteElementone.addEventListener('click',()=>{
//   console.log(RElementOne.textContent);
//   compararinfo(RElementOne.textContent)
// })



function compararinfo(comparador){
  DataSpanish.forEach((dato)=>{
    const {titulo}=dato;
     if (comparador===titulo) {
       let lugar=dato
      console.log(lugar);
      localStorage.setItem('selectCarrusel', JSON.stringify(lugar));
     }
  })
}
